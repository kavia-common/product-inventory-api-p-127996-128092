{"is_source_file": true, "format": "Python", "description": "Main application entry point for a FastAPI-based Product Inventory API. Configures logging, CORS, rate limiting, database initialization, and includes multiple API routers for different modules.", "external_files": [".core.config", ".core.db", ".core.security", ".middlewares.rate_limit", ".routers.auth", ".routers.users", ".routers.products", ".routers.categories", ".routers.locations", ".routers.inventory", ".routers.costs", ".routers.reporting", ".routers.webhooks"], "external_methods": ["get_settings", "init_db", "get_current_user_optional"], "published": ["health_check", "health", "ws_docs", "view_config"], "classes": [{"name": "FastAPI", "description": "FastAPI application instance configured with metadata, middleware, and routers."}, {"name": "RateLimitMiddleware", "description": "Custom middleware for rate limiting (imported from middlewares.rate_limit)."}], "methods": [{"name": "health_check()", "description": "Health check endpoint returning API status.", "scope": "", "scopeKind": ""}, {"name": "health()", "description": "Service health detail endpoint.", "scope": "", "scopeKind": ""}, {"name": "ws_docs()", "description": "Documentation endpoint for WebSocket usage info.", "scope": "", "scopeKind": ""}, {"name": "view_config(_: dict = Depends(get_current_user_optional), s=Depends(get_settings))", "description": "Development utility to view loaded configuration, with masking for sensitive info.", "scope": "", "scopeKind": ""}, {"name": "add_security_headers(request: Request, call_next)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "unhandled_exception_handler(request: Request, exc: Exception)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["logging.basicConfig", "logging.getLogger", "app.add_middleware", "init_db", "app.include_router", "app.get"], "search-terms": ["FastAPI", "RateLimitMiddleware", "app.include_router", "health_check", "configuration", "main.py"], "state": 2, "file_id": 1, "knowledge_revision": 89, "git_revision": "e1065d71aa1e12613768c71e7f68ae364a276541", "revision_history": [{"9": "f60c02f6e52b50dc6f6b92eaf010c29faf8e233d"}, {"10": "f60c02f6e52b50dc6f6b92eaf010c29faf8e233d"}, {"77": "8cf2a6a34a30e8d93f07640e79d26d81868148dc"}, {"88": "8cf2a6a34a30e8d93f07640e79d26d81868148dc"}, {"89": "e1065d71aa1e12613768c71e7f68ae364a276541"}], "ctags": [{"_type": "tag", "name": "add_security_headers", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/main.py", "pattern": "/^async def add_security_headers(request: Request, call_next):$/", "language": "Python", "kind": "function", "signature": "(request: Request, call_next)"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/main.py", "pattern": "/^def health():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/main.py", "pattern": "/^logger = logging.getLogger(\"product-inventory-api\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "settings", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/main.py", "pattern": "/^settings = get_settings()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "unhandled_exception_handler", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/main.py", "pattern": "/^async def unhandled_exception_handler(request: Request, exc: Exception):$/", "language": "Python", "kind": "function", "signature": "(request: Request, exc: Exception)"}, {"_type": "tag", "name": "view_config", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/main.py", "pattern": "/^def view_config(_: dict = Depends(get_current_user_optional), s=Depends(get_settings)):$/", "language": "Python", "kind": "function", "signature": "(_: dict = Depends(get_current_user_optional), s=Depends(get_settings))"}, {"_type": "tag", "name": "ws_docs", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/main.py", "pattern": "/^def ws_docs():$/", "language": "Python", "kind": "function", "signature": "()"}], "hash": "d1e663ea654e182f99a1f63705c81e9d", "format-version": 4, "code-base-name": "ProductInventoryAPIMonolithicContainer", "filename": "ProductInventoryAPIMonolithicContainer/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "logger = logging.getLogger(\"product-inventory-api\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "settings = get_settings()", "scope": "", "scopeKind": "", "description": "unavailable"}]}