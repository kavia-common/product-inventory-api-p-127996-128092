{"is_source_file": true, "format": "Python", "description": "This file defines a middleware class for rate limiting in a FastAPI application. It includes functions to parse rate string inputs and a middleware class that tracks requests per client IP to enforce limits.", "external_files": ["fastapi.Request", "fastapi.Response", "starlette.middleware.base.BaseHTTPMiddleware"], "external_methods": ["super().__init__", "parse_rate", "time.time", "deque.popleft", "deque.append", "request.url.path", "request.client.host", "call_next(request)"], "published": ["RateLimitMiddleware", "parse_rate"], "classes": [{"name": "RateLimitMiddleware", "description": "A middleware class that restricts the number of requests a client can make within a specified interval."}], "methods": [{"name": "int parse_rate(rate: str)", "description": "Parses a rate string formatted as 'count/unit' (e.g., '100/minute') and returns the count and interval in seconds.", "scope": "", "scopeKind": ""}, {"name": "dispatch(self, request: Request, call_next)", "description": "Handles each incoming request, enforces the rate limit, and either passes the request along or returns a 429 response.", "scope": "RateLimitMiddleware", "scopeKind": "class"}, {"name": "__init__(self, app, rate_limit: str = \"100/minute\", exclude_paths: Set[str] | None = None)", "scope": "RateLimitMiddleware", "scopeKind": "class", "description": "unavailable"}], "calls": ["super().__init__", "parse_rate", "time.time", "window.popleft", "window.append", "request.url.path", "request.client.host", "call_next(request)"], "search-terms": ["RateLimitMiddleware", "parse_rate", "request", "fastapi", "starlette", "middleware", "rate limiting"], "state": 2, "file_id": 8, "knowledge_revision": 20, "git_revision": "", "ctags": [{"_type": "tag", "name": "RateLimitMiddleware", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/middlewares/rate_limit.py", "pattern": "/^class RateLimitMiddleware(BaseHTTPMiddleware):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/middlewares/rate_limit.py", "pattern": "/^    def __init__(self, app, rate_limit: str = \"100\\/minute\", exclude_paths: Set[str] | None = No/", "language": "Python", "kind": "member", "signature": "(self, app, rate_limit: str = \"100/minute\", exclude_paths: Set[str] | None = None)", "scope": "RateLimitMiddleware", "scopeKind": "class"}, {"_type": "tag", "name": "dispatch", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/middlewares/rate_limit.py", "pattern": "/^    async def dispatch(self, request: Request, call_next):$/", "language": "Python", "kind": "member", "signature": "(self, request: Request, call_next)", "scope": "RateLimitMiddleware", "scopeKind": "class"}, {"_type": "tag", "name": "parse_rate", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/middlewares/rate_limit.py", "pattern": "/^def parse_rate(rate: str) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "function", "signature": "(rate: str)"}], "hash": "b25bb1f30a65e7d39cfa3324650cae51", "format-version": 4, "code-base-name": "ProductInventoryAPIMonolithicContainer", "filename": "ProductInventoryAPIMonolithicContainer/src/api/middlewares/rate_limit.py", "revision_history": [{"20": ""}]}