{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints for managing products in a product inventory system using FastAPI. It includes functions for creating, listing, retrieving, updating, and deleting products, with role-based access controls.", "external_files": ["../core/db", "../core/security", "../models/product", "../schemas/product"], "external_methods": ["get_db", "require_roles", "Session.query", "Session.get", "Session.add", "Session.commit", "Session.refresh", "Session.delete", "Product.model_dump", "Product.name.ilike", "Product.sku.ilike"], "published": ["router"], "classes": [{"name": "APIRouter", "description": "FastAPI router instance used to define API paths related to products."}], "methods": [{"name": "create_product(payload: ProductCreate, db: Session = Depends(get_db))", "description": "Creates a new product in the database after verifying SKU uniqueness.", "scope": "", "scopeKind": ""}, {"name": "list_products( db: Session = Depends(get_db), q: str | None = Query(default=None, description=\"Search by name or SKU\") )", "description": "Retrieves a list of products, optionally filtered by a search query.", "scope": "", "scopeKind": ""}, {"name": "get_product(product_id: int, db: Session = Depends(get_db))", "description": "Fetches a single product by its ID.", "scope": "", "scopeKind": ""}, {"name": "update_product(product_id: int, payload: ProductUpdate, db: Session = Depends(get_db))", "description": "Updates attributes of an existing product by its ID.", "scope": "", "scopeKind": ""}, {"name": "delete_product(product_id: int, db: Session = Depends(get_db))", "description": "Deletes a product by its ID.", "scope": "", "scopeKind": ""}], "calls": ["db.query", "db.get", "db.add", "db.commit", "db.refresh", "db.delete", "require_roles"], "search-terms": ["ProductInventoryAPIMonolithicContainer", "products.py", "FastAPI", "CRUD endpoints", "product management", "role-based access", "SQLAlchemy", "Product schema"], "state": 2, "file_id": 27, "knowledge_revision": 60, "git_revision": "", "ctags": [{"_type": "tag", "name": "create_product", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/routers/products.py", "pattern": "/^def create_product(payload: ProductCreate, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(payload: ProductCreate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "delete_product", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/routers/products.py", "pattern": "/^def delete_product(product_id: int, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(product_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_product", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/routers/products.py", "pattern": "/^def get_product(product_id: int, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(product_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "list_products", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/routers/products.py", "pattern": "/^def list_products($/", "language": "Python", "kind": "function", "signature": "( db: Session = Depends(get_db), q: str | None = Query(default=None, description=\"Search by name or SKU\") )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/routers/products.py", "pattern": "/^router = APIRouter()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_product", "path": "/home/kavia/workspace/code-generation/product-inventory-api-p-127996-128092/ProductInventoryAPIMonolithicContainer/src/api/routers/products.py", "pattern": "/^def update_product(product_id: int, payload: ProductUpdate, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(product_id: int, payload: ProductUpdate, db: Session = Depends(get_db))"}], "hash": "50d6826361a7fdd6c4ab4d5fe27f2a71", "format-version": 4, "code-base-name": "ProductInventoryAPIMonolithicContainer", "filename": "ProductInventoryAPIMonolithicContainer/src/api/routers/products.py", "fields": [{"name": "router = APIRouter()", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"60": ""}]}